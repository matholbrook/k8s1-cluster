---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: redis-pvc
  namespace: default
spec:
  storageClassName: nfs-vol2
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 3Gi
---
apiVersion: v1
kind: Pod
metadata:
  name: redis
  namespace: default
spec:
  containers:
  - name: nginx
    image: nginx
    ports:
    - name: "http-server"
      containerPort: 80
    volumeMounts:
    - name: redis-volume
      mountPath: "/usr/share/nginx/html"
  volumes:
  - name: redis-volume
    persistentVolumeClaim:
      claimName: redis-pvc
